Использовался эмулятор mini-rv32ima из следущего репозитория: https://github.com/cnlohr/mini-rv32ima.git


После клонирования нужно зайти и воспользоваться командой make everything (ждать около 30 минут), после чего создать папку test_asm и копировать туда прикрепленные файлы.
Сборка командой make создаст три файла разного типа (эмулятору нужен для исполнения файл расширения .bin).


Чтобы узнать результат работы нужно перейти в папку mini-rv32ima/mini-rv32ima/, где содержится исполняемый файл эмулятора и выполнить следующую команду : ./mini-rv32ima -f ../test_asm/test_asm.bin

Вывод в консоли должен быть следующим:

<pre>
main is at: 8000012c
Assembly code: 
0000000f
fffffffb
00000032
00000002
048d159e
ffc48d15
48d159e0
00000001

Processor effective speed: -1 Mcyc/s

POWEROFF@0x0000000000000000
</pre>

В файле test_asm.S содержатся проверки работы ветвления, арифм. операций и сдвигов. Результат работы (указан выше) соответствует ожидаемому.

Эмулятор предоставляет возможность наблюдения за процессом выполнения кода.

Вызов работы исполняемого следующей командой: ./mini-rv32ima -s -b sixtyfourmb.dtb -f ../test_asm/test_asm.bin | less > output.txt
  выводит содержание регистров процессора на каждом шаге своей работы в файл output.txt соответственно. Пример содержания прикреплен одноименным файлом, поиск изменения регистров при выполнении кода test_asm.S совершался через соответствие содержанию регистра t0 числу 10 (t0:0000000a)
